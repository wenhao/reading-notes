## 演进式架构

### 第1章 软件架构

1. 向高度动态的（生态）系统中引入变化，可能会产生无法预料的结果。P3
2. 软件开发体系由所有工具、框架、库以及最佳实践（软件开发领域的技术积累）构成。和生态一样，软件开发体系实现了平衡，开发人员能够理解这个体系并未其添砖加瓦。然后，这种平衡是动态的，随着新事物的不断出现，平衡不断被打破和重建。P3
3. 有一种不幸的退化叫做架构比特衰减。架构师选择特定的架构模式来满足也无需求及让系统具备某些能力，但这些特征常常意外地随着时间推移而退化。P4
4. 定义了那些重要的架构特征后，架构师如何保护这些特征不磨损呢？答案是添加演进呢你作为新的架构特征，使其在系统演进时保护其他特征。P5
5. 持续架构值构建架构的过程没有最终状态，它会随着软件开发体系的不断变化而演进，并保护重要的架构特征。我们不会尝试定义整个软件架构，因为已经存在很多定义了。我们通过引入时间和变化作为头等架构元素来扩展当前的定义。P5
6. 增量变更描述了软件架构的两个方面：如何增量地构建软件和如何部署软件。P5
7. 适应度函数，该函数是一种目标函数，用于计算潜在的解决方案与既定目标的差距。在演化计算中，适应度函数决定一个算法是否在持续提升。换句话说，随着每个算法变体的产生，基于设计者对算法“适应度”的定义，适应度决定每个变体的“适应程度”。P6
8. 对于演进式架构，随着架构的演进，我们有着类似的需求。我们需要评估机制，来评估变化对架构重要特征的影响，并防止这些特征随着时间的推移而退化。适应度函数的隐喻涵盖多种机制，包括度量、测试和其他验证工具。我们采用这些机制来确保架构不会以不良方式变更。当架构师确定了需要保护的架构特征时，他们会定义一个或多个适应度函数来提供保护。P6
9. 康威提出：社会结构，特别是人与人之间的沟通途径，将不可避免地影响最终的产品设计。P8
10. 持续式、敏捷式和应急式都表达了随时间不断变化的概念，这确实是演进式架构的关键特征，但是这些术语都没能准确地表达出架构将如何变化，或者说期望的架构最终是什么样子的。虽然这些术语都隐含着环境变化，但是都没能涵盖架构应有的样子。而在演进式架构的定义中，引导的含义反映了我们想实现的架构，即我们的最终目标。P10
11. 演进式架构主要由三方面构成：增量变化、适应度函数和适当的耦合。P11

### 第2章 适应度函数

1. 演进式架构是支持跨多个维度进行引导性增量变更的架构。P13
2. 引导性这个词表示架构应该朝着某个目标变更或者体现目标。本书借用了进化计算中的一个概念——适应度函数，遗传算法设计用它定义成功。进化计算有多种机制，通过对每一代软件进行小的变更使方案逐渐成形。工程师会评估每一代解决方案的当前状态，来判断当前方案与最终目标的举例。P13
3. 架构的适应度函数为某些架构特征提供了客观的完整性评估。P13
4. 我们也可以将全系统适应度函数看作适应度函数的集合，其中每个适应度函数对应架构的一个或多个维度。当适应度函数所对应的维度间存在冲突是，使用全系统适应度函数有助于我们做出必要的权衡。P13
5. 系统绝不是其组成部分的总和，而是各部分相互作用的产物。P14
6. 原子适应度函数对单一的上下文执行，用来校验架构的某一维度，比如某个用来验证模块间耦合的单元测试。P16
7. 整体适应度函数在共享的上下文中运行，综合校验架构的多个维度，比如安全性和伸缩性。P16
8. 适应度函数间的另一个区别是执行频率。触发式适应度函数基于特定的事件执行，比如开发人员执行单元测试、部署流水线执行单元测试或质量保障人员执行探索性测试。16
9. 持续式测试不是按计划执行，而是持续不断地验证架构的某些方面，比如事务处理速度。P17
10. 静态适应度函数的结果是固定的，比如单元测试的二进制结果——成功或失败。P18
11. 动态适应度函数依赖基于额外上下文变化的因素。某些值会视具体情况而定，比如在大规模运行的情况下，大多数架构师会采用较低的性能指标。P17
12. 团队应该尽早确定适应度函数，将其作为初步理解全局架构关注点的一部分。团队还应该尽早确定系统适应度函数，来帮助他们确定想实现的变更。比较实现不同架构特征的价值和难度，有助于更早地设置高风险工作的优先级，从而做出能够应对变化的设计。P18
13. 没能确定适应度函数的团队讲面临如下风险：P18
    * 做出错误的设计选型，最终导致软件构建失败。
    * 做出的设计选型在时间和成本上出现不必要的浪费。
    * 系统无法轻松应对日后的环境变化。

### 第3章 实施增量变更